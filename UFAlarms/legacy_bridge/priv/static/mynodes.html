<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">

    <title>Realtime Legacy Node table</title>

    <!-- Latest compiled and minified JavaScript -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script>
Host = location.host;

var CSS_COLOR_NAMES = ["PaleVioletRed","Black","Aqua","Aquamarine","DarkGreen","Coral","IndianRed","Black","Magenta","Blue","BlueViolet","Brown","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral","LavenderBlush","DarkOliveGreen","Crimson","Cyan","DarkBlue","DarkCyan","DarkGoldenRod","DarkGray","DarkGrey","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","Darkorange","DarkOrchid","DarkRed","DarkSalmon","DarkSeaGreen","DarkSlateBlue","DarkSlateGray","DarkSlateGrey","DarkTurquoise","DarkViolet","DeepPink","DeepSkyBlue","DimGray","DimGrey","DodgerBlue","FireBrick","Tomato","ForestGreen","Fuchsia","Gainsboro","DarkOrang","Gold","GoldenRod","Gray","Grey","Green","GreenYellow","PaleVioletRed","HotPink","IndianRed","Indigo","Fuchsia","Khaki","Lavender","LavenderBlush","LawnGreen","SaddleBrown","LightBlue","LightCoral","LightCyan","LightGoldenRodYellow","DarkOliveGreen","MistyRose","LavenderBlush","LightPink","LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","PaleVioletRed","LightSteelBlue","PaleVioletRed","Lime","LimeGreen","DarkOrchid","Magenta","Maroon","MediumAquaMarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen","MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MidnightBlue","MintCream","MistyRose","Moccasin","Tomato","Navy","OldLace","Olive","OliveDrab","Orange","OrangeRed","Orchid","PaleGoldenRod","PaleGreen","PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Plum","PowderBlue","Purple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","SeaGreen","SeaShell","Sienna","Fuchsia","SkyBlue","SlateBlue","Purple","SlateGrey","IndianRed","SpringGreen","SteelBlue","Tan","Teal","Thistle","Tomato","Turquoise","Violet","LawnGreen","OliveDrab","Tomato","Yellow","YellowGreen"];

$.get( "http://" + Host + "/nodelist", function( data ) {
         console.log(data);
 /*$(document).ready(function() {
    var Data1 = ["N0sa234","N0df234","N0wq234","N0e234","N0m234","N0sa234","N0k234","N0iu234","N01x34",
          "N01s3d","N0po234","N0Q234","N012d4","N012f4","N01a34","N01234","N012h4","N01e34",
          "N0j234","N01234","N0l234","N0m234","N0LL234","N0gg234","N0jl234","N0H234","N0P234",
          "N0D234","N01z34","N0C23df","N01w34","N01q34","N0123s","N0123le","N0123sd","N0123l","N0123f",
          "N0M234","N01b34","N01PO234","N0LKJ234","N0PP234","N0AA234","N0IO234","N0ea234","N01234"];*/
          addData(data);
          
        });
function addData(Data1) {  
         // Data = Data1.sort();
         var Data = JSON.parse(Data1);
         var Len = Data.length;
          var Dts = [];
          var ColorLength = CSS_COLOR_NAMES.length;
          var Dt = "";
          $( ".lead" ).text("You have total of " + Len + " nodes connected.");
          for (var i=0; i< Len; i++){
              var Coloridx = i;           
              Dt = Dt + ", " + Data[i];
              if( i> ColorLength){
                  Coloridx = 0;
                }
              
                if(i > 0 && i % 15 == 0){
                  $( ".lead" ).append($( "<p><font color=" + CSS_COLOR_NAMES[Coloridx] + ">" + Dt + "</font></p>" ) ); 
                  Dt = ""; 
                }
                else if(i == Len - 1)
                  $( ".lead" ).append($( "<p><font color=" + CSS_COLOR_NAMES[Coloridx] + ">" + Dt + "</font></p>" ) ); 
               
          }
         // $( ".lead" ).text(Dt);
}
</script>
  </head>

  <body>

    <!-- Begin page content -->
    <div class="container">
      <div class="page-header">
        <h1>Legacy In Memory Table Node list</h1>
      </div>
      <p class="lead"></p>
    </div>

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="../../assets/js/ie10-viewport-bug-workaround.js"></script>
  </body>
</html>